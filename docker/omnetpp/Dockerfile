################################################################################
#   extending omnet-inet docker container with jenkins stuff                   #
#                                                                              #
#                                         Erstellt: 09.11.2019 Mikko Eberhatdt #
################################################################################

FROM niessan/omnetpp-inet

################################################################################
#  create jenkins user to be available in docker container                     #
################################################################################
RUN useradd -u 1000 jenkins

################################################################################
#  adding jenkins to root group                                                #
################################################################################
RUN sed -i 's/root:x:0:/root:x:0:jenkins:/' /etc/group

################################################################################
#  want to call jenkins pipeline as root                                       #
################################################################################
COPY sudoers /etc/sudoers
RUN cat /etc/sudoers
